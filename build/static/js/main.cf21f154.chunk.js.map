{"version":3,"sources":["pages/NotFound.jsx","components/Logo.jsx","components/DeleteArticle.jsx","components/Article.jsx","pages/News.jsx","App.js","index.js"],"names":["NotFound","Logo","className","src","alt","DeleteArticle","id","onClick","window","confirm","axios","delete","location","reload","Article","date","article","useState","isEditing","setIsEditing","editedContent","setEditContent","style","background","author","Date","toLocaleDateString","year","month","day","hour","minute","second","onChange","e","target","value","autoFocus","defaultValue","content","data","put","then","News","newsData","setNewsData","setAuthor","setContent","error","setError","useEffect","getData","get","res","onSubmit","preventDefault","length","post","now","handleSubmit","type","placeholder","border","sort","a","b","map","App","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf21f154.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <div>\r\n      <h1>404 Error</h1>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Logo() {\r\n  return (\r\n    <div className=\"logo\">\r\n      <img src=\"./img/logo192.png\" alt=\"logo\" />\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport axios from 'axios'\r\n\r\nexport default function DeleteArticle({ id }) {\r\n  const handleDelete = () => {\r\n    axios.delete('http://localhost:3003/articles/' + id)\r\n    window.location.reload()\r\n  }\r\n\r\n  return (\r\n    <button\r\n      onClick={() => {\r\n        if (window.confirm('Are you sure you want to delete this article ?')) {\r\n          handleDelete()\r\n        }\r\n      }}\r\n    >\r\n      Delete\r\n    </button>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport DeleteArticle from './DeleteArticle'\r\n\r\nconst Article = ({ article }) => {\r\n  const [isEditing, setIsEditing] = useState(false)\r\n  const [editedContent, setEditContent] = useState('')\r\n\r\n  const dateParser = date => {\r\n    let newDate = new Date(date).toLocaleDateString('en-EN', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: 'numeric',\r\n      minute: 'numeric',\r\n      second: 'numeric'\r\n    })\r\n    return newDate\r\n  }\r\n\r\n  const handleEdit = () => {\r\n    const data = {\r\n      author: article.author,\r\n      content: editedContent ? editedContent : article.content,\r\n      date: article.date\r\n    }\r\n\r\n    axios.put('http://localhost:3003/articles/' + article.id, data).then(() => {\r\n      setIsEditing(false)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"article\"\r\n      style={{ background: isEditing ? '#f3feff' : 'white' }}\r\n    >\r\n      <div className=\"card-header\">\r\n        <h3>{article.author}</h3>\r\n        <em>Posted on {dateParser(article.date)}</em>\r\n      </div>\r\n      {isEditing ? (\r\n        <textarea\r\n          onChange={e => setEditContent(e.target.value)}\r\n          autoFocus\r\n          defaultValue={editedContent ? editedContent : article.content}\r\n        ></textarea>\r\n      ) : (\r\n        <p>{editedContent ? editedContent : article.content}</p>\r\n      )}\r\n\r\n      <div className=\"btn-container\">\r\n        {isEditing ? (\r\n          <button onClick={handleEdit}>Confirm</button>\r\n        ) : (\r\n          <button onClick={() => setIsEditing(true)}>Edit</button>\r\n        )}\r\n        <DeleteArticle id={article.id} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Article\r\n","import React, { useEffect, useState } from 'react'\r\nimport Logo from '../components/Logo'\r\nimport axios from 'axios'\r\nimport Article from '../components/Article'\r\n\r\nexport default function News() {\r\n  const [newsData, setNewsData] = useState([])\r\n  const [author, setAuthor] = useState('')\r\n  const [content, setContent] = useState('')\r\n  const [error, setError] = useState(false)\r\n\r\n  useEffect(() => {\r\n    getData()\r\n  }, [])\r\n\r\n  const getData = () => {\r\n    axios\r\n      .get('http://localhost:3003/articles')\r\n      .then(res => setNewsData(res.data))\r\n  }\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n\r\n    if (content.length < 140) {\r\n      setError(true)\r\n    } else {\r\n      axios\r\n        .post('http://localhost:3003/articles', {\r\n          author,\r\n          content,\r\n          date: Date.now()\r\n        })\r\n        .then(() => {\r\n          setError(false)\r\n          setAuthor('')\r\n          setContent('')\r\n          getData()\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"news-container\">\r\n        <Logo />\r\n        <h1>News</h1>\r\n        <form onSubmit={e => handleSubmit(e)}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Name\"\r\n            onChange={e => setAuthor(e.target.value)}\r\n            value={author}\r\n          />\r\n          <textarea\r\n            style={{ border: error ? '1px solid red' : '1px solid #61dafb' }}\r\n            placeholder=\"Message\"\r\n            onChange={e => setContent(e.target.value)}\r\n            value={content}\r\n          ></textarea>\r\n          {error && <p>Please insert a minimum of 140 characters</p>}\r\n          <input type=\"submit\" value=\"Send\" />\r\n        </form>\r\n        <ul>\r\n          {newsData\r\n            .sort((a, b) => b.date - a.date)\r\n            .map(article => (\r\n              <Article key={article.id} article={article} />\r\n            ))}\r\n        </ul>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom'\nimport NotFound from './pages/NotFound.jsx'\nimport News from './pages/News.jsx'\n\nconst App = () => {\n  return (\n    <Router>\n      <Routes>\n        <Route exact path=\"/\" element={<News />} />\n        <Route element={<NotFound />} />\n      </Routes>\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './styles/index.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}